generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Color {
  id        Int     @id @default(autoincrement())
  name      String
  productId Int
  Product   Product @relation(fields: [productId], references: [id])
}

model Dimension {
  id        Int     @id @default(autoincrement())
  productId Int
  depth     String
  height    String
  width     String
  type      String
  value     String
  Product   Product @relation(fields: [productId], references: [id])
}

model Image {
  id        Int      @id @default(autoincrement())
  url       String
  productId Int
  createdAt DateTime @default(now())
  Product   Product  @relation(fields: [productId], references: [id])
}

model Product {
  id                                               Int              @id @default(autoincrement())
  name                                             String
  price                                            Float
  description                                      String
  rating                                           Float
  reviewCount                                      Int
  category                                         String
  mainImage                                        String
  specialOffer                                     Boolean
  popular                                          Boolean
  Color                                            Color[]
  Dimension                                        Dimension[]
  Image                                            Image[]
  RelatedProduct_RelatedProduct_productIdToProduct RelatedProduct[] @relation("RelatedProduct_productIdToProduct")
  RelatedProduct_RelatedProduct_relatedIdToProduct RelatedProduct[] @relation("RelatedProduct_relatedIdToProduct")
}

model RelatedProduct {
  id                                        Int     @id @default(autoincrement())
  productId                                 Int
  relatedId                                 Int
  Product_RelatedProduct_productIdToProduct Product @relation("RelatedProduct_productIdToProduct", fields: [productId], references: [id])
  Product_RelatedProduct_relatedIdToProduct Product @relation("RelatedProduct_relatedIdToProduct", fields: [relatedId], references: [id])
}

model User {
  id       Int    @id @default(autoincrement())
  email    String @unique
  phone    String @unique
  name     String
  password String
  role     String @default("user")
}

enum Role {
  ADMIN
  USER
  MODERATOR
  GUEST
}
